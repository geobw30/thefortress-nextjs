"use strict";(()=>{var e={};e.id=936,e.ids=[936],e.modules={11185:e=>{e.exports=require("mongoose")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},70962:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>m,patchFetch:()=>h,requestAsyncStorage:()=>c,routeModule:()=>d,serverHooks:()=>g,staticGenerationAsyncStorage:()=>y});var a={};t.r(a),t.d(a,{GET:()=>u});var o=t(49303),n=t(88716),s=t(60670),i=t(11185),p=t.n(i),l=t(51661);async function u(e){try{await p().connect(process.env.MONGODB_URI);let e=await l.Z.find({}).populate("uploadedBy","name").sort({createdAt:-1});return new Response(JSON.stringify({images:e}),{status:200,headers:{"Content-Type":"application/json"}})}catch(e){return console.error("Gallery fetch error:",e),new Response(JSON.stringify({error:"Internal server error"}),{status:500,headers:{"Content-Type":"application/json"}})}}let d=new o.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/gallery/route",pathname:"/api/gallery",filename:"route",bundlePath:"app/api/gallery/route"},resolvedPagePath:"D:\\Apps\\Repositories\\personal\\thefortress\\app\\api\\gallery\\route.js",nextConfigOutput:"",userland:a}),{requestAsyncStorage:c,staticGenerationAsyncStorage:y,serverHooks:g}=d,m="/api/gallery/route";function h(){return(0,s.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:y})}},51661:(e,r,t)=>{t.d(r,{Z:()=>s});var a=t(11185),o=t.n(a);let n=new(o()).Schema({title:{type:String,required:!0},description:{type:String,required:!1},imageUrl:{type:String,required:!0},uploadedBy:{type:o().Schema.Types.ObjectId,ref:"User",required:!0},createdAt:{type:Date,default:Date.now}}),s=o().models.Gallery||o().model("Gallery",n)},49303:(e,r,t)=>{e.exports=t(30517)}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[948],()=>t(70962));module.exports=a})();